<template>
  <link rel="stylesheet" href="./page-diagram-linear.css" />

  <view-page caption="Линейная диаграмма" hash="material-diagram-linear" description="отображает информацию в виде ряда точек данных, соединённых прямыми отрезками">
    <view-section caption="Линейная" element="MaterialDiagramLinear">
      <view-import>
        import MaterialDiagramLinear from '/material/components/diagram-linear/material-diagram-linear.js';
      </view-import>

      <view-article>
        <view-source id="static">
          <material-diagram-linear></material-diagram-linear>
        </view-source>
        <view-source lang="javascript" only>
const diagram = root.querySelector('material-diagram-linear');
diagram.addEventListener('load', () => {
  diagram.store({
    series: {
      first: [2, 4, 5, 6, 7, 10, 7],
      second: [12, 1, 3, 4, 2, 11, 8, 3, 6]
    },
    color: {
      first: 'green',
      second: 'red'
    }
  });
  diagram.init();
});
        </view-source>
        <view-source lang="css" only>
material-diagram-linear {
  /* width: 500px; */
  height: 200px;
}
        </view-source>
      </view-article>

      <view-article>
        <view-source id="dynamic">
          <material-diagram-linear></material-diagram-linear>
          <material-input-count min="0" max="20" step="1" id="field">точка</material-input-count>
          <material-button id="demoButton">пыщ</material-button>
        </view-source>
        <view-source lang="javascript" only>
          const diagramWithAdditionalPoints = root.querySelector('#dynamic material-diagram-linear');
          diagramWithAdditionalPoints.addEventListener('load', () => {
            diagramWithAdditionalPoints.store({
            series: {
              first: [2, 4, 5, 6, 7, 10, 7]
            },
            color: {
              first: 'green'
            }
          });

          const demoButton = root.querySelector("#demoButton");
          demoButton.addEventListener('click', () => {
            const stored = diagramWithAdditionalPoints.store();
            const newpoint = root.querySelector('#field').value;
            stored.series.first.push(newpoint);
            diagramWithAdditionalPoints.store(stored);
            diagramWithAdditionalPoints.init();
          });
          diagramWithAdditionalPoints.init();
        </view-source>
      </view-article>

    </view-section>
  </view-page>

</template>
